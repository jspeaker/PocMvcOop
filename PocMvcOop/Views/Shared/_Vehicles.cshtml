<div>
  <ul id="inventory">
    Loading...
  </ul>
</div>
<script type="text/javascript">
  var CarLot = CarLot || {};

  CarLot.Vehicle = function (vehicle) {
    // ReSharper disable CallerCalleeUsing
    if (!(this instanceof arguments.callee)) {
      return new arguments.callee(vehicle);
    }
    // ReSharper restore CallerCalleeUsing

    var id = vehicle._id;
    var name = vehicle._name;

    var description = function () {
      return id + " : " + name;
    };

    return {
      description: description
    };
  };

  CarLot.Inventory = function (inventory) {
    // ReSharper disable CallerCalleeUsing
    if (!(this instanceof arguments.callee)) {
      return new arguments.callee(inventory);
    }
    // ReSharper restore CallerCalleeUsing
    var vehicles = [];
    var vehicleCount = inventory._vehicles.length;
    for (var index = 0; index < vehicleCount; index += 1) {
      vehicles.push(new CarLot.Vehicle(inventory._vehicles[index]));
    }

    var listItem = function (content) {
      return "<li>" + content + "</li>";
    };

    var render = function (targetElement) {
      for (var index = 0; index < vehicleCount; index += 1) {
        CarLot.j(targetElement).append(listItem(vehicles[index].description()));
      }
    };

    return {
      render: render
    };
  };
</script>

<script type="text/javascript">
  window.onload = function () {
    CarLot.j = $;
    CarLot.j.get("/carlot/vehicle", function (result) {
      $("#inventory").html("");
      new CarLot.Inventory(result).render(CarLot.j("#inventory"));
    });
  };
</script>